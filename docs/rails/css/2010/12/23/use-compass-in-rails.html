<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Qichunren website">
    <meta name="author" content="Qichunren">
    <title>在Rails项目中使用compass来管理css - Qichunren blog</title>    
    <link rel="stylesheet" href="/assets/css/main.css?v2">
  </head>

  <body class="has-navbar-fixed-top page-index">

    <nav class="flex items-center justify-between flex-wrap p-6 fixed w-full z-10 top-0 bg-white shadow-sm">
      
      <a class="flex items-center flex-shrink-0 mr-6 no-underline hover:text-blue-800 hover:no-underline" href="/index.html">
        <img class="card-img-top rounded-circle" src="https://avatars.githubusercontent.com/u/39784?s=40&v=4" />
        <span class="text-2xl pl-2">Qichunren's blog</span>
      </a>
    

    <div class="block lg:hidden">
      <button id="nav-toggle" class="flex items-center px-3 py-2 border rounded text-gray-500 border-gray-600 hover:text-blue-600 hover:border-white">
        <svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg>
      </button>
    </div>

    <div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden lg:block pt-6 lg:pt-0" id="nav-content">
      <ul class="list-reset lg:flex justify-end flex-1 items-center">          
        <li class="mr-3">
          <a class="inline-block text-gray-600 no-underline hover:text-blue-700 py-2 px-4" href="/index.html">Posts</a>
        </li>
        <li class="mr-3">
          <a class="inline-block text-gray-600 no-underline hover:text-blue-700 py-2 px-4" href="/about.html">About</a>
        </li>
        <li class="mr-3">
          <a class="inline-block text-gray-600 no-underline hover:text-blue-700 py-2 px-4" href="https://github.com/qichunren">Github</a>
        </li>
      </ul>
    </div>
  </nav>

  <main class="container mx-auto bg-white mt-24 md:mt-18">
    
          <div class="max-w-screen-md mx-auto prose lg:prose-lg py-6">
            <h1 class="mb-2 text-3xl font-bold text-gray-900 md:text-3xl lg:text-4xl xl:text-5xl md:leading-tight">在Rails项目中使用compass来管理css</h1>
            <div class="text-gray-400 mt-6 md:text-base">2010-12-23</div>
          </div>
          
          <div class="post-content max-w-screen-md mx-auto prose lg:prose-lg "><p>对如今的web项目开发（个人开发），用Rails来快速实现，但是前端这一块会花掉比较多的时间，其中CSS的管理维护是一个越来越麻烦的事情，由于它只是一门单纯的静态标记的语法（说法不准确），我的意思是，比如我设计一个三栏的网页，页面宽度是960px，那么每栏应该是960px的三分之一宽度320px，在css文件中，需要“硬编码”写入单栏的宽度： .box{width:320px;} 
   然后有一天，某某人说要改网站页面宽度，要调成1200px，这样需要找出css文件中相关的地方都要改成新的400px的宽度。对我来说，做这种事情一点也不爽。如果能自动计算出每栏是网页宽度的三分之一那多好。 <a href="http://sass-lang.com/">Sass</a> 就是做这事情的，而 <a href="https://github.com/chriseppstein/compass">Compass</a> 是基于Sass之上的一个集成，它让我们在Rails项目中可以更为容易地使用sass，它集成了如 <a href="http://www.blueprintcss.org/">blueprint</a> 这样的css框架。 
   以上都是废话，哈哈，看看在项目中如何使用起compass，通过它来高级地管理项目的css。 
   # 在Gemfile中加入gem “compass”, 然后bundle install # 在项目的根目录执行compass init rails . 
   # 以上两步搭建好了基础，接下来就是编写sass和引入css文件. 
   # in application.html.erb</p>

<figure class="highlight"><pre><code class="language-html" data-lang="html">   <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">stylesheet_link_tag</span> <span class="err">"</span><span class="na">compiled</span><span class="err">/</span><span class="na">screen.css</span><span class="err">",</span> <span class="na">:media =</span><span class="err">&gt; </span><span class="s">"screen, projection"</span> <span class="err">%</span><span class="nt">&gt;</span> <span class="nt">&lt;</span><span class="err">%=</span> <span class="na">stylesheet_link_tag</span> <span class="err">"</span><span class="na">compiled</span><span class="err">/</span><span class="na">print.css</span><span class="err">",</span> <span class="na">:media =</span><span class="err">&gt; </span><span class="s">"print"</span> <span class="err">%</span><span class="nt">&gt;</span> 
   接上开头说的那个问题，我可以在/app/stylesheets/screen.scss中这样来写：
    
   $page_width: 960px; body { width: $page_width; } .box { width: $page_width / 3; } </code></pre></figure>

<p>具体的操作信息从我这里可以看出：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>usermatoMacBook-Pro:weixiaoshuo qichunren$ compass init rails .
Compass recommends that you keep your stylesheets in app/stylesheets
instead of the Sass default location of public/stylesheets/sass.
Is this OK? (Y/n) y

Compass recommends that you keep your compiled css in public/stylesheets/compiled/
instead the Sass default of public/stylesheets/.
However, if you're exclusively using Sass, then public/stylesheets/ is recommended.
Emit compiled stylesheets to public/stylesheets/compiled/? (Y/n) y
directory ./app/stylesheets/
directory ./public/stylesheets/compiled/
 exists ./config
 create ./config/compass.rb
 exists ./config/initializers
 create ./config/initializers/compass.rb
convert screen.sass
 create ./app/stylesheets/screen.scss
convert print.sass
 create ./app/stylesheets/print.scss
convert ie.sass
 create ./app/stylesheets/ie.scss

Congratulations! Your rails project has been configured to use Compass.
Just one more thing left to do: Register the compass gem.

In Rails 2.2 &amp; 2.3, add the following to your environment.rb:

config.gem "compass", :version =&gt; "&gt;= 0.10.6"

In Rails 3, add the following to your Gemfile:

gem "compass", "&gt;= 0.10.6"

Then, make sure you restart your server.

Sass will automatically compile your stylesheets during the next
page request and keep them up to date when they change.

Next add these lines to the head of your layouts:
%head
= stylesheet_link_tag 'compiled/screen.css', :media =&gt; 'screen, projection'
= stylesheet_link_tag 'compiled/print.css', :media =&gt; 'print'
/[if IE]
  = stylesheet_link_tag 'compiled/ie.css', :media =&gt; 'screen, projection'

(You are using haml, aren't you?)
usermatoMacBook-Pro:weixiaoshuo qichunren$  
</code></pre></div></div>
</div>
        
    </main>
  </body>
</html>